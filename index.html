<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pexels Clone</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
      img:hover {
        transform: scale(1.1);
        transition: transform 0.5s;
        opacity: 0.7;
        transform: translateY(2px);
      }
    </style>
</head>
<body style="background-color: #212121;
            color : aliceblue;
            font-family: cursive;
            margin-left: 15px;
            width: 98%;
            padding: 0;">
  <h1 style="color: aliceblue;" class="p-4">Pexels@deb</h1>
  <div class="main" style = "background-color: #dadada;
                             padding: 0;">
    <!-- <button id="btn1" style="color : red; position : relative; top : 1px">Get Table1</button>
    <button id="btn2" style="color : blue">Get Table2</button> -->
    <br /><br />
    <h2 style="color: #212121;
               margin-left: 15px;
               padding: 0;
               text-align: center;"
               >The best free stock photos, royalty free images shared by creators.</h2><br />
    <button class="btn3 btn btn-primary position-fixed z-3">Get More Images</button>
    <div class="table"></div>
    <table class="t2"></table>
  </div>  
</body>
<!-- <script src="./script.js"></script> -->
 <script>
// window.addEventListener('load', async () => {
//  const url = "https://picsum.photos/700/500";
//  let main = document.querySelector('.main');

  // Create an array of 20 promises
 // const promises = Array.from({ length: 20 }, async () => {
 //   const response = await fetch(url);
 //   const img = document.createElement('img');
 //   img.style.margin = "0 30px 20px 5px";
  //  img.setAttribute("src", response.url);
  //  return img;
  // });

  // Wait for all to finish
  // const images = await Promise.all(promises);

  // const results = await Promise.allSettled(promises);

  // const images = results
  // .filter(r => r.status === "fulfilled")  // only keep successful ones
  // .map(r => r.value);                     // extract <img> elements

  // main.append(...images);


  // Append all at once (faster rendering)
  // main.append(...images);
// });

  window.addEventListener('load', async (event) => {
    let c = 0;
    //const url = 'https://dog.ceo/api/breeds/image/random';
    //const url = "https://emojihub.yurace.pro/api/random";
    //const options = { method: 'GET', headers: { accept: 'application/json' } };
    const url = "https://picsum.photos/700/500";
    async function load() {
        try {
            const response = await fetch(url);
            //const data = await response.json();
            // console.log(data.message);
            //console.log(response);
            let main = document.querySelector('.main');
            // let img = document.createElement('img');
            // img.setAttribute("src" , data.message);
            // main.appendChild(img);
            //console.log(data.htmlCode[0].substring(0,data.htmlCode[0].length - 1));
            //let emo = document.createElement('h1');
            //emo.innerHTML = data.htmlCode[0].substring(0,data.htmlCode[0].length - 1);
            let img = document.createElement('img');
            img.style.marginRight = "30px";
            img.style.marginLeft = "5px";
            img.setAttribute("src", response.url);
            main.appendChild(img);
        } catch (error) {
            console.error(error);
        }
    }
    while (c < 20) {
       await load();
        c++;
    }
});
let btn3 = document.querySelector('.btn3');
btn3.addEventListener('click', async (event) => {
    let c = 0;
    //const url = 'https://dog.ceo/api/breeds/image/random';
    //const url = "https://emojihub.yurace.pro/api/random";
    //const options = { method: 'GET', headers: { accept: 'application/json' } };
    const url = "https://picsum.photos/700/500";
    async function load() {
        try {
            const response = await fetch(url);
            //const data = await response.json();
            // console.log(data.message);
            //console.log(response.url);
            let main = document.querySelector('.main');
            // let img = document.createElement('img');
            // img.setAttribute("src" , data.message);
            // main.appendChild(img);
            //console.log(data.htmlCode[0].substring(0,data.htmlCode[0].length - 1));
            //let emo = document.createElement('h1');
            //emo.innerHTML = data.htmlCode[0].substring(0,data.htmlCode[0].length - 1);
            let img = document.createElement('img');
            img.style.marginRight = "30px";
            img.style.marginLeft = "5px";
            img.setAttribute("src", response.url);
            main.appendChild(img);
        } catch (error) {
            console.error(error);
        }
    }
    while (c < 20) {
       await load()
        c++;
    }
});
 </script>
</html>